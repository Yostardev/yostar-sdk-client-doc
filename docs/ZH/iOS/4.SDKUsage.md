**注意：为使用完整功能，以下代码只需复制、替换即可**

```objectivec
// 在`AppDelegate.m`文件中导入头文件
#import "YostarAppDelegate.h"

// 在以下方法中添加如下代码：
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    // Override point for customization after application launch.
    [YostarAppDelegate YostarApplication:application didFinishLaunchingWithOptions:launchOptions];
    //第三方客服AIHelp 初始化
    //下面三个参数可以在AIHelp管理平台上查找
    //apikey
    //domainName
    //appid
    [YostarAppDelegate YostarAIHelpInitForApiKey:@"xxx" domainName:@"xxx" appID:@"xxx"];
    return YES;
}

- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary<NSString *,id> *)options
{
    return [YostarAppDelegate YostarApplication:app openURL:url options:options];
}

- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{
    [YostarAppDelegate YostarAiHelpDidRegisterForRemoteNotificationsWithDeviceToken:deviceToken];
    [YostarAppDelegate YostarAdjustDidRegisterForRemoteNotificationsWithDeviceToken:deviceToken];
}

- (void)applicationDidBecomeActive:(UIApplication *)application
{
    [YostarAppDelegate YostarApplicationDidBecomeActive];
}

```
* 在使用类中导入头文件`#import <YoSDKCoreKit/YoSDKCoreKit.h>`

### 1. 创建单例
* 调用API

```objectivec
+ (instancetype)yostarShareton;
```

* 调用实例

```objectivec
yostarManager = [YostarSDK yostarShareton];
```

### 2. 获取设备号
* 调用API

```objectivec
- (char *)yostarGetDeviceID;
```

* 调用实例

```objectivec
char *deviceId = [yostarManager yostarGetDeviceID];
```

### 3. 打开客服界面
* 调用API

```objectivec
//AIHelp
- (void)yostarShowAiHelpFAQs:(const char *)sdkVersion
                withServerId:(const char *)serverId
                 withRoleUid:(const char *)roleUid
                withRoleName:(const char *)roleName
          withRoleCreateTime:(const char *)roleCreateTime
                withPurchase:(int)purchase
                    withTags:(const char *)tags;
```

+ 调用实例

```objectivec
NSData *tagData = [NSJSONSerialization dataWithJSONObject:@[@"bug",@"bad_user"] options:NSJSONWritingFragmentsAllowed error:nil];
    NSString *tagStr = [[NSString alloc] initWithData:tagData encoding:NSUTF8StringEncoding];
 [yostarManager yostarShowAiHelpFAQs:[@"2.1.42" UTF8String]
                        withServerId:[@"serverId" UTF8String]
                         withRoleUid:[@"roleId" UTF8String]
                        withRoleName:[@"roleName" UTF8String]
                  withRoleCreateTime:[@"2020-09-09" UTF8String]
                        withPurchase:1000
                            withTags:[tagStr UTF8String]];
```
* 接口参数说明

| 参数名称 | 参数类型 | 参数说明 |
| ------ | ------ | ------ |
| serverId | char | 服务器ID |
| roleUid | char | 角色ID |
| roleName  | char | 角色名称 |
| roleCreateTime  | char | 角色创建的时间（yyyy-MM-dd） |
| purchase  | int | 充值金额 |
| tags  | char | JSON格式化后的字符串数组 |

### 4. App Store 评分
* 调用API

```objectivec
- (void)yostarStoreReview;
```

* 调用实例

```objectivec
[yostarManager yostarStoreReview];
```

### 5. 初始化
* 调用API

```objectivec
- (void)yostarInitSDK:(const char *)baseUrl
       withPayStoreID:(const char *)payStoreId
            withDebug:(BOOL)isDebug;
```

* 调用实例

```objectivec
[yostarManager yostarInitSDK:[@"http://www.url.com" UTF8String]
              withPayStoreID:[@"appstore" UTF8String]
                   withDebug:true];
```

* 接口参数说明

|参数名称|参数类型|参数说明|
|----|----|----|
|baseUrl|char|网络请求地址|
|payStoreId|char|IPA传appstore|
|isDebug|bool|是否需要打印log|

### 6. 渠道登录
* 调用API

```objectivec
- (void)yostarLogin:(int)platform
              param:(const char *)param
             param2:(const char *)param2
 isCreateNewAccount:(BOOL)isCreateNewAccount;
```

* 调用实例

```objectivec
[yostarManager yostarLogin:4
                     param:[@"xxx" UTF8String]
                    param2:[@"xx" UTF8String]
         isCreateNewAccount:false];
```

* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|platform|NSInteger|登录的渠道有DEVICE(0),TRANSCODE(1),TWITTER(2),FACEBOOK(3),YOSTAR(4),APPLE(9)|是|
|param|NSString|当Platform的值为1时，param代表继承码。当Platform的值为4时，param为邮箱账号|否|
|param2|NSString|当Platform的值为1时，param2代表继承码对应的UID。当Platform的值为4时，param2为邮箱收到的验证码|否|
|isCreateNewAccount|BOOL|是否强制创建新的账号|是|


### 7. 快速登录
* 调用API

```objectivec
- (void)yostarQuickLogin;
```

* 调用实例

```objectivec
[yostarManager yostarQuickLogin];
```

### 8. 发行继承码
* 调用API

```objectivec
- (void)yostarReqCode;
```

* 调用实例

```objectivec
[yostarManager yostarReqCode];
```

### 9. 请求邮箱验证码
* 调用API

```objectivec
- (void)yostarVerificationCodeReq:(const char *)email;
```

* 调用实例

```objectivec
[yostarManager yostarVerificationCodeReq:[@"111@126.com" UTF8String]];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|email|char|要验证的邮箱账号|是|


### 10. 渠道绑定
* 调用API

```objectivec
- (void)yostarBind:(int)platform
             email:(const char *)email
  verificationCode:(const char *)code;
```

* 调用实例

```objectivec
[yostarManager yostarBind:2
                    email:[@"111@126.com" UTF8String]
         verificationCode:[@"456789" UTF8String]];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|platform|char|绑定使用的平台标识，渠道绑定参数标识可选择TWITTER(2),FACEBOOK(3),YOSTAR(4),APPLE(9)|是|
|email|char|当Platform的值为4时，email为邮箱账号|否|
|code|char|当Platform的值为4时，code为邮箱收到的验证码|否|


### 11. 解除绑定
* 调用API

```objectivec
- (void)yostarUnBind:(int)platform
               email:(const char *)email
    verificationCode:(const char *)code;
```

* 调用实例

```objectivec
[yostarManager yostarUnBind:4
                      email:[@"111@126.com" UTF8String]
           verificationCode:[@"456789" UTF8String]];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|platform|char|绑定使用的平台标识，渠道绑定参数标识可选择TWITTER(2),FACEBOOK(3),YOSTAR(4),APPLE(9)|是|
|email|char|当Platform的值为4时，email为邮箱账号|否|
|code|char|当Platform的值为4时，code为邮箱收到的验证码|否|


### 12. 覆盖绑定
* 调用API

```objectivec
- (void)yostarNewLink;
```

* 调用实例

```objectivec
[yostarManager yostarNewLink];
```

### 13. 设置生日(可选，日本必接)
* 调用API

```objectivec
- (void)yostarSetBirth:(const char *)birth;
```

* 调用实例

```objectivec
[yostarManager yostarSetBirth:[@"20200920" UTF8String]];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|birth|char|生日日期，日期格式为yyyyMMdd|是|

### 14. 统计事件上传
* 调用API

```objectivec
- (void)yostarUserEventUpload:(const char *)strEventName
                withParameter:(const char *)strJsonCallbackParameter;
```

* 调用实例

```objectivec
NSDictionary *paramsDic = @{
        @"name" : @"ALIAS",
        @"age" : @"20"
    };
NSData *data = [NSJSONSerialization dataWithJSONObject:paramsDic options:NSJSONWritingFragmentsAllowed error:nil];
NSString *pStr = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];
[yostarManager yostarUserEventUpload:[@"role_login" UTF8String]
                       withParameter:[pStr UTF8String]];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|strEventName|char|事件名称，要与AiriSDK后台添加的相对应|是|
|strJsonCallbackParameter|char|事件详情，为JSON格式的字符串参数|是|

### 15. 系统分享
* 调用API

```objectivec
- (void)yostarSystemShare:(const char *)strShareText
            withImageData:(Byte *)imgDataByte
               withLength:(int)nSize;
```

* 调用实例

```objectivec
UIImage *image = info[UIImagePickerControllerOriginalImage];
NSData *imageData = UIImagePNGRepresentation(image);
[yostarManager yostarSystemShare:[@"图片分享" UTF8String]
                   withImageData:(Byte *)[imageData bytes]
                      withLength:(int)(imageData.length)];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|strShareText|char|要分享的文字内容，是否显示根据分享的平台支持情况定|是|
|shareImageData|Byte|要分享的data格式的图片|是|
|nSize|int|长度|是|


### 16. 支付
* 调用API

```objectivec
- (void)yostarBuy:(const char *)productId
    withServerTag:(const char *)serverTag
        withExtra:(const char *)extraData;
```

* 调用实例

```objectivec
[yostarManager yostarBuy:[@"xxx" UTF8String]
           withServerTag:[@"xxx" UTF8String]
               withExtra:[@"abc" UTF8String]];
```
* 接口参数说明

|参数名称|参数类型|参数说明|是否必须|
|----|----|----|----|
|productId|char|要购买的商品ID，要与支付渠道后台和AiriSDK后台配置的相符合|是|
|serverTag|char|服务器标识|是|
|extraData|char|附加参数，在支付结果回调时原样返回|是|

### 17. 删除或者恢复账户
* 调用API

```objectivec
- (void)yostarDeletedOrNot:(YoUserActionType)userActionType;
```

* 调用实例

```objectivec
//删除
[yostarManager yostarDeletedOrNot:YoUserActionTypeDelete];
//恢复
[yostarManager yostarDeletedOrNot:YoUserActionTypeReborn];
```
**注意：调用该接口会清空用户缓存的账号数据**

|参数名称|参数类型|参数说明|
|----|----|----|
|userActionType|int|0 删除， 1 恢复|

### 18. 返回未成年人商店退款协议信息
* 调用API

```objectivec
- (void)yostarGetUnderAgeAgrement;
```

* 调用实例

```objectivec
[yostarManager yostarGetUnderAgeAgrement];
```

### 19. SDKToClipboard   剪贴板
* 调用API

```objectivec
- (int)yostarClipboard:(const char *)cValue;
```

* 调用实例

```objectivec
int flag = [yostarManager yostarClipboard:[@"abc" UTF8String]];
if (flag == 0) {
    //success
}
```

### 20. 获取用户ID
* 调用API

```objectivec
- (char *)yostarGetUID;
```

* 调用实例

```objectivec
char *uid = [yostarManager yostarGetUID];
```

### 21. 获取Access token
* 调用API

```objectivec
- (char *)yostarGetAccessToken;
```

* 调用实例

```objectivec
char *token = [yostarManager yostarGetAccessToken];
```

### 22. 根据错误码返回对应描述
* 调用API

```objectivec
- (char *)yostarGetErrorCode:(int)code;
```

* 调用实例

```objectivec
char *errorDes = [yostarManager yostarGetErrorCode:100230];
```

### 23. Google S2S
* 调用API

```objectivec
- (void)yostarServerToServer:(const char *)devToken
                  withLinkID:(const char *)linkID
               withEventName:(const char *)appEventName
                   withPrice:(const char *)priceValue
            withCurrencyCode:(const char *)currencyCode;
```

* 调用实例

```objectivec
[yostarManager yostarServerToServer:[@"devToken" UTF8String]
                             withLinkID:[@"linkID" UTF8String]
                          withEventName:[@"event_name" UTF8String]
                              withPrice:[@"1" UTF8String]
                       withCurrencyCode:[@"USD" UTF8String]];
```

### 24. 确认未成年人商店退款协议信息
* 调用API

```objectivec
- (void)yostarConifrmShopAgreement;
```

* 调用实例

```objectivec
[yostarManager yostarConifrmShopAgreement];
```

### 25. 返回未成年人商店退款协议信息
* 调用API

```objectivec
- (void)yostarGetUnderAgeAgrement;
```

* 调用实例

```objectivec
[yostarManager yostarGetUnderAgeAgrement];
```

### 26. 返回其他协议信息
* 调用API

```objectivec
- (void)yostarGetShopAgreement:(const char *)q;
```

* 调用实例

```objectivec
[yostarManager yostarGetShopAgreement:[@"SHOP_AGREEMENT_1" UTF8String]];
```

* 接口参数详情

| 参数名称 | 参数说明 |
|----|----|
| q  |协议参数;SHOP_AGREEMENT_1：资金结算法(日服)或退款说明(韩服)、 SHOP_AGREEMENT_2:特定商业交易法(日服)或退款协议(韩服)|


### 27. 同意协议
* 调用API

```objectivec
- (void)yostarConifrmAgreement;
```

* 调用实例

```objectivec
[yostarManager yostarConifrmAgreement];
```

### 28. 返回协议内容信息
* 调用API

```objectivec
- (void)yostarGetAgreementInfo;
```

* 调用实例

```objectivec
[yostarManager yostarGetAgreementInfo];
```

### 29. 清空token
* 调用API

```objectivec
- (void)yostarCleanAllUserDefaults;
```

* 调用实例

```objectivec
[yostarManager yostarCleanAllUserDefaults];
```
